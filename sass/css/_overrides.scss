@use 'variables' as *;

// Theme colors - override theme's defaults using CSS custom properties
:root:has(body[data-theme="dark"]) {
  --background-color: #{theme-color(dark, background)};
  --text-color: #{theme-color(dark, text)};
  --accent-color: #{theme-color(dark, accent)};
  --footnote-color: color-mix(in srgb, var(--text-color) 55%, transparent);
  --code-border: color-mix(in srgb, var(--accent-color) 25%, transparent);
}

:root:has(body[data-theme="light"]) {
  --background-color: #{theme-color(light, background)};
  --text-color: #{theme-color(light, text)};
  --accent-color: #{theme-color(light, accent)};
  --footnote-color: color-mix(in srgb, var(--text-color) 65%, transparent);
  --code-border: color-mix(in srgb, var(--accent-color) 20%, transparent);
}

// Text selection style
::selection {
  background: var(--accent-color);
  color: var(--background-color);
}

// Theme toggle button
.theme-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  background: transparent;
  color: var(--accent-color);
  border: none;
  padding: $spacing-sm $spacing-sm + 2;
  margin: 0;
  cursor: pointer;
  line-height: 1;
  border-radius: $radius-sm;

  svg {
    display: block;
    vertical-align: middle;
  }

  &:hover {
    background: color-mix(in srgb, var(--accent-color) 15%, transparent);
  }

  &:focus-visible {
    outline: 1px solid var(--accent-color);
    outline-offset: 2px;
  }
}

// Remove dotted border from post titles
.post-title {
  padding-bottom: 0;
  border-bottom: none;

  &::after {
    display: none;
  }
}

// Menu item styles
.main-menu-items {
  gap: $spacing-xs + 1;

  a {
    padding: $spacing-xs $spacing-sm;
    border-radius: $radius-sm;
    transition: background 0.15s ease;

    &:hover {
      background: color-mix(in srgb, var(--accent-color) 15%, transparent);
    }
  }
}
